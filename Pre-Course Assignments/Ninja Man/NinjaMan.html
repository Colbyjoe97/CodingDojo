<html>
<head>
	<title>NinjaMan</title>
	<style type="text/css">
		{
			margin: 0;
			padding: 0;
		}
		.row {
			line-height: 0;
		}
		.wall {
			background-color: blue;
			height: 40px;
			width: 40px;
			display: inline-block;
		}
		.sushi {
			background-color: black;
			height: 40px;
			width: 40px;
			display: inline-block;
			background-size: contain;
			background-image: url('sushi.png');
		}
		.onigiri {
			background-color: black;
			height: 40px;
			width: 40px;
			display: inline-block;
			background-size: contain;
			background-image: url('onigiri.png');
		}
		.blank {
			background-color: black;
			height: 40px;
			width: 40px;
			display: inline-block;
		}
		#ninjaman {
			background-color: ;
			height: 40px;
			width: 40px;
			display: inline-block;
			background-image: url('ninja.gif');
			background-size: contain;
			position: absolute;
		}
		#red {
			background-color: ;
			height: 40px;
			width: 40px;
			display: inline-block;
			background-image: url('red.gif');
			background-size: contain;
			position: absolute;
		}
	</style>
</head>
<body>
	<div id='world'></div>
	<div id= 'ninjaman'></div>
	<div id= 'red'></div>
</body>
<script type="text/javascript">
	var world = [
		[1,1,1,1,1,1,1,1,1,1], //ceiling
		[1,0,0,0,0,1,1,1,2,1], //row 1
		[1,1,0,1,3,1,2,0,0,1], //row 2
		[1,0,0,1,1,2,1,1,0,1], //row 3
		[1,2,1,3,0,0,1,0,0,1], //row 4
		[1,0,1,0,1,2,0,0,1,1], //row 5
		[1,0,0,0,0,1,1,0,1,1], //row 6
		[1,1,0,1,2,1,1,3,1,1], //row 7
		[1,0,0,1,1,2,0,0,1,1], //row 8
		[1,2,1,2,0,0,1,1,1,1], //row 9
		[1,0,1,0,1,2,0,0,1,1], //row 10
		[1,0,0,0,0,1,1,0,1,1], //row 11
		[1,1,0,1,2,1,1,0,2,1], //row 12
		[1,0,0,1,1,3,1,0,1,1], //row 13
		[1,3,1,2,0,0,0,0,1,1], //row 14
		[1,0,0,0,1,2,1,1,1,1], //row 15
		[1,1,1,1,1,1,1,1,1,1] //floor
	];
	var worldDict = {
		0: 'blank',
		1: 'wall',
		2: 'sushi',
		3: 'onigiri'
	}

	function drawWorld() {
		output = "";

		for (var row = 0; row < world.length; row++) {
			output += "<div class = 'row'></div>"
			for (var x = 0; x < world[row].length; x++) {
				output += "<div class = '" + worldDict[world[row][x]] + "'></div>"
				//worldDict[world[row][x]]
			}
			output += "</div>"
		}

		document.getElementById("world").innerHTML = output;
	}
	drawWorld();

	var ninjaman = {
		x: 1,
		y: 1
	}

	function drawNinjaman() {
		document.getElementById('ninjaman').style.top = ninjaman.y * 40 + 'px'
		document.getElementById('ninjaman').style.left = ninjaman.x * 40 + 'px'
	}
	drawNinjaman()

	var score = 0;

	document.onkeydown = function(e) {
		if (e.keyCode == 37 || e.keyCode == 65) { //left
			if (world[ninjaman.y][ninjaman.x - 1] != 1) {
				if (world[ninjaman.y][ninjaman.x - 1] == 2) {
					score++
					console.log('Score: ', score)
				}
				if (world[ninjaman.y][ninjaman.x - 1] == 3) {
					score += 5
					console.log('Score: ', score)
				}
				ninjaman.x--;
			}
		}
		if (e.keyCode == 39 || e.keyCode == 68) { //right
			if (world[ninjaman.y][ninjaman.x + 1] != 1) {
				if (world[ninjaman.y][ninjaman.x + 1] == 2) {
					score++
					console.log('Score: ', score)
				}
				if (world[ninjaman.y][ninjaman.x + 1 == 3]) {
					score += 5
					console.log('Score: ', score)
				}
				ninjaman.x++;
			}
			
		}
		if (e.keyCode == 38 || e.keyCode == 87) { //up
			if (world[ninjaman.y - 1][ninjaman.x] != 1) {
				if (world[ninjaman.y - 1][ninjaman.x] == 2) {
					score++
					console.log('Score: ', score)
				}
				if (world[ninjaman.y - 1][ninjaman.x] == 3) {
					score += 5
					console.log('Score: ', score)
				}
				ninjaman.y--;
			}
		}
		if (e.keyCode == 40 || e.keyCode == 83) { //down
			if (world[ninjaman.y + 1][ninjaman.x] != 1) {
				if (world[ninjaman.y + 1][ninjaman.x] == 2) {
					score++
					console.log('Score: ', score)
				}
				if (world[ninjaman.y + 1][ninjaman.x] == 3) {
					score += 5
					console.log('Score: ', score)
				}
				ninjaman.y++;
			}
		}

		world[ninjaman.y][ninjaman.x] = 0
		drawWorld();
		drawNinjaman();

	var red = {
		x: 1,
		y: 1
	}

	function drawRed() {
		document.getElementById('red').style.top = red.y * 40 + 'px'
		document.getElementById('red').style.left = red.x * 40 + 'px'
	}
	drawRed()
}

</script>
</html>

<!--I spent a lot of time trying to figure out the intermediate and
	advanced challenges, but I was not able to figure out how to do them. 
	At the time of upload, there was no tutorial for these challenges
	on Coding Dojo like there is for Airplane Challenge I.-->